<div class="accent" id="mainSearchBox">
  <h1>Everything you need in one place.</h1>

  <span id="searchBoxInstructions">Use the search box below to find relevant court information</span>
  <ui-select id="municipalitiesFinder" name="municipalitiesFinder" ng-model="ctrl.selectedMunicipality" on-select="ctrl.municipalitySelected();" ng-click="ctrl.setOptionsSelectedMap(ctrl.OptionToSelect.COURT_SEARCH);">
    <ui-select-match placeholder="Enter your City...">{{$select.selected.municipality_name}}</ui-select-match>
    <ui-select-choices repeat="municipality in ctrl.municipalities | filter: $select.search">
      <div ng-bind-html="municipality.municipality_name | highlight: $select.search"></div>
    </ui-select-choices>
    <ui-select-no-choice>
      Please select a valid city name.
    </ui-select-no-choice>
  </ui-select>

</div>

<p class="main-page-banner">Use the options below to find your ticket information</p>

<div class="container-fluid" id="homePageTileBoxSection">
 <div class="homePageBottomMargin">
    <form id="citationCriteriaFrm" name="citationCriteriaFrm" ng-submit="ctrl.getDOB(citationCriteriaFrm)" novalidate ng-submit-force="true">
      <div class="row row-eq-height">
        <div class="col-md-4 magenta-accent no-border-col">
          <a class="showFullTileBox" href="#ticketSubmitInfoBtn">
            <div class="thumbnail homepageTile centered" ng-if="!ctrl.isSelected(ctrl.OptionToSelect.TICKET_NUMBER)" ng-class="{'unselected' : ctrl.isUnselected(ctrl.OptionToSelect.TICKET_NUMBER)}" ng-click="ctrl.setOptionsSelectedMap(ctrl.OptionToSelect.TICKET_NUMBER)">
              <div>
                <div class="homePageTileIcon">
                  <i class="fa fa-newspaper-o fa-2x"></i>
                </div>
                <h3>I have my ticket number.</h3>
              </div>
            </div>
            <div class="thumbnail homepageTileSelected" ng-if="ctrl.isSelected(ctrl.OptionToSelect.TICKET_NUMBER)">
              <a href="#top"><button type="button" class="close" aria-label="Close" ng-click="ctrl.setOptionsSelectedMap(ctrl.OptionToSelect.COURT_SEARCH);"><span aria-hidden="true">&times;</span></button></a>
              <div>
                <div class="homePageTileIcon">
                  <i class="fa fa-newspaper-o fa-2x"></i>
                </div>
                <h3>I have my ticket information.</h3>
              </div>
              <form-field label="Ticket #" required>
                <input type="text" ng-model="ctrl.citationCriteria.citationNumber" required ng-maxlength="12" displayName="Ticket #" />
              </form-field>
            </div>
            <div class="row" style="margin-top: 20px;" ng-if="ctrl.isSelected(ctrl.OptionToSelect.TICKET_NUMBER)">
              <div class="col-sm-12" style="text-align: center;">
                <button id="ticketSubmitInfoBtn" class="btn btn-lg" style="margin-bottom: 20px" ng-disabled="!citationCriteriaFrm.$valid" type="submit"><i class="fa fa-search"></i>&nbsp;&nbsp;FIND TICKET</button>
              </div>
            </div>
          </a>
        </div>
        <div class="col-md-4 blue-accent no-border-col">
          <a class="showFullTileBox" href="#licenseSubmitInfoBtn">
            <div class="thumbnail homepageTile centered" ng-if="!ctrl.isSelected(ctrl.OptionToSelect.DRIVER_INFO)" ng-class="{'unselected' : ctrl.isUnselected(ctr.OptionToSelect.DRIVER_INFO)}" ng-click="ctrl.setOptionsSelectedMap(ctrl.OptionToSelect.DRIVER_INFO)">
              <div>
                <div class="homePageTileIcon">
                  <i class="fa fa-car fa-2x"></i>
                </div>
                <h3>I have my driver's license number.</h3>
              </div>
            </div>
            <div class="thumbnail homepageTileSelected" ng-if="ctrl.isSelected(ctrl.OptionToSelect.DRIVER_INFO)">
              <a href="#top"><button type="button" class="close" aria-label="Close" ng-click="ctrl.setOptionsSelectedMap(ctrl.OptionToSelect.COURT_SEARCH);"><span aria-hidden="true">&times;</span></button></a>
              <div>
                <div class="homePageTileIcon">
                  <i class="fa fa-car fa-2x"></i>
                </div>
                <h3>I have my driver's license number.</h3>
              </div>
              <form-field label="License #" required>
                <input type="text" ng-model="ctrl.citationCriteria.licenseNumber" required ng-maxlength="12" displayName="License #" />
              </form-field>
              <form-field label="License State" required>
                <ui-select id="selectedState" name="selectedState" register-custom-form-control displayName="License State" ng-model="ctrl.citationCriteria.licenseState" required>
                  <ui-select-match placeholder="State">{{$select.selected}}</ui-select-match>
                  <ui-select-choices repeat="state in ctrl.states | filter: $select.search">
                    {{state}}
                  </ui-select-choices>
                </ui-select>
              </form-field>
            </div>
            <div class="row" style="margin-top: 20px;" ng-if="ctrl.isSelected(ctrl.OptionToSelect.DRIVER_INFO)">
              <div class="col-sm-12" style="text-align: center;">
                <button id="licenseSubmitInfoBtn" class="btn btn-lg" style="margin-bottom: 20px" ng-disabled="!citationCriteriaFrm.$valid" type="submit"><i class="fa fa-search"></i>&nbsp;&nbsp;FIND TICKET</button>
              </div>
            </div>
          </a>
        </div>
        <div class="col-md-4 lime-green-accent no-border-col">
          <a class="showFullTileBox" href="#locationSubmitInfoBtn">
            <div class="thumbnail homepageTile centered" ng-if="!ctrl.isSelected(ctrl.OptionToSelect.LOCATION)" ng-class="{'unselected' : ctrl.isUnselected(ctrl.OptionToSelect.LOCATION)}" ng-click="ctrl.setOptionsSelectedMap(ctrl.OptionToSelect.LOCATION)">
              <div>
                  <div class="homePageTileIcon">
                    <i class="fa fa-map-marker fa-2x"></i>
                  </div>
                  <h3>I know where I got my ticket.</h3>
              </div>
            </div>
            <div class="thumbnail homepageTileSelected" ng-if="ctrl.isSelected(ctrl.OptionToSelect.LOCATION)">
              <a href="#top"><button type="button" class="close" aria-label="Close" ng-click="ctrl.setOptionsSelectedMap(ctrl.OptionToSelect.COURT_SEARCH);"><span aria-hidden="true">&times;</span></button></a>
              <div>
                <div class="homePageTileIcon">
                  <i class="fa fa-map-marker fa-2x"></i>
                </div>
                <h3>I know where I got my ticket.</h3>
              </div>
              <form-field label="Last Name" required>
                <input type="text" ng-model="ctrl.citationCriteria.lastName" required ng-maxlength="20" displayName="Last Name" />
              </form-field>
              <form-field required>
                <ui-select id="selectedMunicipality" multiple name="selectedMunicipality" register-custom-form-control required displayName="Municipality" ng-model="ctrl.citationCriteria.municipalityNames">
                  <ui-select-match placeholder="Select a City">{{$item.municipality_name}}</ui-select-match>
                  <ui-select-choices repeat="municipality in ctrl.municipalities | filter: $select.search track by municipality.municipality_name">
                    <div ng-bind-html="municipality.municipality_name | highlight: $select.search"></div>
                  </ui-select-choices>
                </ui-select>
              </form-field>
              <div class="centered">
                - OR - <br/><br/>
                <button class="btn" type="button" ng-click="ctrl.openMap()"><i class="fa fa-map"></i>&nbsp;&nbsp;Select on Map</button>
              </div>
            </div>
            <div class="row" style="margin-top: 20px;" ng-if="ctrl.isSelected(ctrl.OptionToSelect.LOCATION)">
              <div class="col-sm-12" style="text-align: center;">
                <button id="locationSubmitInfoBtn" class="btn btn-lg" style="margin-bottom: 20px" ng-disabled="!citationCriteriaFrm.$valid" type="submit"><i class="fa fa-search"></i>&nbsp;&nbsp;FIND TICKET</button>
              </div>
            </div>
          </a>
        </div>
      </div>
    </form>
  </div>
</div>
